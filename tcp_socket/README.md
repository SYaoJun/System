### 定时器
- 网络事件
- 定时事件
- 信号事件
### 参考资料
- [B站公开课](https://www.bilibili.com/video/BV1uZ4y1r7Fy?spm_id_from=333.337.search-card.all.click&vd_source=e9f1ced96b267a4bc02ec41ca31d850a)
### epoll_wait
- argv_4：阻塞等待时间，timeout。如果没有事件到达，最长等待多长时间。
### nginx
- 多进程单线程模型
- 用红黑树实现定时器
### 延时队列
- 基于时间轮
- 不是基于jdk的timer或者delayqueue来实现
- 技能CD
### 多线程
- 时间轮：多层级时间轮，每一层都有时间精度。
- 跳表：多级有序链表，二分查找。
### 时间轮存在的问题
- 空推进，时间间隔很远
    1. 秒级
    2. 分钟级
    3. 小时级
### skynet五层时间轮
1. 256
2. 64
3. 64
4. 64
5. 64
### 分布式场景下定时器设计
- 生产者（多）
- 定时器服务（多）
- 消费者（多）
### 抢火车票30分钟内付款
- 实际应用场景
# SIGALRM信号
- alarm()定时，默认终止进程，秒级，返回值是上一次定时剩余时间。
- setitimer()高级定时，精度达到微妙级别。
- sigaction()信号捕捉
- signal()注册信号捕捉处理函数
- kill() raise() abort()给进程发信号
### setitimer()存在的问题
- 只能周期为T的定时，不支持随机时间间隔定时。
### 网路模型
- reactor
- proactor